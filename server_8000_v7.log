INFO:     Will watch for changes in these directories: ['/Users/alan/GitHub/agent-platform']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [76052] using WatchFiles
INFO:     Started server process [76056]
INFO:     Waiting for application startup.
2025-12-10 17:07:44,285 - apscheduler.scheduler - INFO - Scheduler started
2025-12-10 17:07:44,286 - app.services.scheduler_service - INFO - ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘ë¨
2025-12-10 17:07:44,286 - app.main - INFO - Scheduler started
2025-12-10 17:07:44,286 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-12-10 17:07:44,286 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
INFO:     Application startup complete.
INFO:     127.0.0.1:57808 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:57808 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     58.122.170.2:0 - "GET /api/status HTTP/1.1" 200 OK
INFO:     58.122.170.2:0 - "POST /api/session HTTP/1.1" 201 Created
2025-12-10 17:09:27,671 - app.repositories.proposal_repository - WARNING - Redis not available, using in-memory dict for proposals (not persistent)
2025-12-10 17:09:27,672 - app.api.routes.assist - INFO - Analyze request for ticket 11925 (Tenant: wedosoft)
2025-12-10 17:09:27,675 - app.agents.retriever - INFO - Retrieving context via Gemini
2025-12-10 17:09:27,675 - app.services.gemini_file_search_client - INFO - ğŸ“ Conversation history: 0 turns
2025-12-10 17:09:27,675 - app.services.gemini_file_search_client - INFO -   [0] user: í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ...
2025-12-10 17:09:27,675 - app.services.gemini_file_search_client - INFO - Built contents with 1 turns (history: 0)
2025-12-10 17:09:38,142 - app.agents.retriever - INFO - Context retrieval complete
2025-12-10 17:09:38,144 - app.agents.analyzer - INFO - Analyzing ticket
2025-12-10 17:09:38,272 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b46a9c79-105b-40d8-8ffe-120989b85df8', 'json_data': {'messages': [{'role': 'system', 'content': '\n        You are an expert customer support analyzer. Analyze the ticket and return JSON with:\n        - intent: (inquiry, complaint, request, technical_issue)\n        - sentiment: (positive, neutral, negative, urgent)\n        - summary: 1-sentence summary in Korean\n        - key_entities: list of important entities\n        '}, {'role': 'user', 'content': '{"ticketId": "11925", "subject": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ", "description": "ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ì¶”ê°€í•˜ê³   í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ (yml)ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.  (ì—…ë¡œë“œ ì„±ê³µí•˜ì˜€ë‹¤ëŠ” íŒì—… ë©”ì‹œì§€ í™•ì¸í•¨)  ì—…ë¡œë“œ í›„ í˜„ì¬ ë²„ì „ì˜ yml íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì œê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ì•„ë‹Œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‹¤ìš´ë¡œë“œ ë˜ê³  ìˆìŠµë‹ˆë‹¤.  íŒŒì¼ì— ì‘ì„±í•œ í˜•ì‹ì´ ì˜ëª»ëœ ê²ƒì¸ì§€ í˜¹ì€ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì¸ì§€ ì ê²€ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.  ê°ì‚¬í•©ë‹ˆë‹¤.", "priority": null, "status": null, "tags": null, "streamProgress": false}'}], 'model': 'deepseek-chat', 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-12-10 17:09:38,273 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.deepseek.com/chat/completions
2025-12-10 17:09:43,204 - openai._base_client - DEBUG - HTTP Response: POST https://api.deepseek.com/chat/completions "200 OK" Headers({'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Wed, 10 Dec 2025 08:09:38 GMT', 'server': 'elb', 'content-encoding': 'gzip', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '864ef4a9917ee5331d67e7a2099b184d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-cache': 'Miss from cloudfront', 'via': '1.1 c6ed8cd25e4ec3b0d1a9c72155758a62.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'ICN57-P2', 'x-amz-cf-id': 'Pf2T5YmEcBFlnJjJwUDqyvOLBN08S59uM4nb4JSb4-wZn9mb8B9n4Q=='})
2025-12-10 17:09:43,204 - openai._base_client - DEBUG - request_id: None
2025-12-10 17:09:43,211 - app.agents.analyzer - INFO - Analysis complete: technical_issue
2025-12-10 17:09:43,212 - app.agents.resolver - INFO - Proposing solution
2025-12-10 17:09:43,218 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-07a6331e-f981-4dab-9990-b913a66d6b2a', 'json_data': {'messages': [{'role': 'system', 'content': '\n        You are a helpful support agent. Based on the ticket and search results, \n        generate a response draft and suggest field updates.\n        \n        Return JSON with:\n        - draft_response: Polite, helpful response in Korean\n        - field_updates: { priority, status, type, tags } (only if changes needed)\n        - reasoning: Why you made these suggestions\n        '}, {'role': 'user', 'content': '{"ticket": {"ticketId": "11925", "subject": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ", "description": "ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ì¶”ê°€í•˜ê³   í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ (yml)ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.  (ì—…ë¡œë“œ ì„±ê³µí•˜ì˜€ë‹¤ëŠ” íŒì—… ë©”ì‹œì§€ í™•ì¸í•¨)  ì—…ë¡œë“œ í›„ í˜„ì¬ ë²„ì „ì˜ yml íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì œê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ì•„ë‹Œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‹¤ìš´ë¡œë“œ ë˜ê³  ìˆìŠµë‹ˆë‹¤.  íŒŒì¼ì— ì‘ì„±í•œ í˜•ì‹ì´ ì˜ëª»ëœ ê²ƒì¸ì§€ í˜¹ì€ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì¸ì§€ ì ê²€ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.  ê°ì‚¬í•©ë‹ˆë‹¤.", "priority": null, "status": null, "tags": null, "streamProgress": false}, "analysis": {"intent": "technical_issue", "sentiment": "neutral", "summary": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ì„ ì—…ë¡œë“œí–ˆì§€ë§Œ, ë‹¤ìš´ë¡œë“œ ì‹œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œë¥¼ ë³´ê³ í•©ë‹ˆë‹¤.", "key_entities": ["í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼", "yml íŒŒì¼", "Japanese", "ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´", "í—¬í”„ë°ìŠ¤í¬", "ì—…ë¡œë“œ", "ë‹¤ìš´ë¡œë“œ"]}, "similar_cases": [], "kb_articles": []}'}], 'model': 'deepseek-chat', 'response_format': {'type': 'json_object'}, 'temperature': 0.7}}
2025-12-10 17:09:43,218 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.deepseek.com/chat/completions
2025-12-10 17:09:43,798 - app.api.routes.assist - INFO - Analyze request for ticket 11925 (Tenant: wedosoft)
2025-12-10 17:09:43,800 - app.agents.retriever - INFO - Retrieving context via Gemini
2025-12-10 17:09:43,801 - app.services.gemini_file_search_client - INFO - ğŸ“ Conversation history: 0 turns
2025-12-10 17:09:43,801 - app.services.gemini_file_search_client - INFO -   [0] user: í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ...
2025-12-10 17:09:43,801 - app.services.gemini_file_search_client - INFO - Built contents with 1 turns (history: 0)
2025-12-10 17:09:55,153 - openai._base_client - DEBUG - HTTP Response: POST https://api.deepseek.com/chat/completions "200 OK" Headers({'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Wed, 10 Dec 2025 08:09:43 GMT', 'server': 'elb', 'content-encoding': 'gzip', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'ec3f30117309cb2d7423cec36396a31d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-cache': 'Miss from cloudfront', 'via': '1.1 12fab91e688c3156116f2995b73e2c50.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'ICN57-P1', 'x-amz-cf-id': 'HRx9ZIocVtocv6tXXLXol7xr4Xo4o1HQTCOV-yIPCAvgE0ERS838SQ=='})
2025-12-10 17:09:55,153 - openai._base_client - DEBUG - request_id: None
2025-12-10 17:09:55,154 - app.agents.resolver - INFO - Solution proposed
2025-12-10 17:09:55,156 - app.agents.approval - INFO - Checking approval status
2025-12-10 17:09:55,156 - app.agents.approval - INFO - Auto-approved (MVP)
2025-12-10 17:09:58,661 - app.agents.retriever - INFO - Context retrieval complete
2025-12-10 17:09:58,663 - app.agents.analyzer - INFO - Analyzing ticket
2025-12-10 17:09:58,671 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-6555c1c4-126a-48ba-8c9e-22c6307f85de', 'json_data': {'messages': [{'role': 'system', 'content': '\n        You are an expert customer support analyzer. Analyze the ticket and return JSON with:\n        - intent: (inquiry, complaint, request, technical_issue)\n        - sentiment: (positive, neutral, negative, urgent)\n        - summary: 1-sentence summary in Korean\n        - key_entities: list of important entities\n        '}, {'role': 'user', 'content': '{"ticketId": "11925", "subject": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ", "description": "ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ì¶”ê°€í•˜ê³   í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ (yml)ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.  (ì—…ë¡œë“œ ì„±ê³µí•˜ì˜€ë‹¤ëŠ” íŒì—… ë©”ì‹œì§€ í™•ì¸í•¨)  ì—…ë¡œë“œ í›„ í˜„ì¬ ë²„ì „ì˜ yml íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì œê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ì•„ë‹Œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‹¤ìš´ë¡œë“œ ë˜ê³  ìˆìŠµë‹ˆë‹¤.  íŒŒì¼ì— ì‘ì„±í•œ í˜•ì‹ì´ ì˜ëª»ëœ ê²ƒì¸ì§€ í˜¹ì€ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì¸ì§€ ì ê²€ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.  ê°ì‚¬í•©ë‹ˆë‹¤.", "priority": null, "status": null, "tags": null, "streamProgress": false}'}], 'model': 'deepseek-chat', 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-12-10 17:09:58,672 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.deepseek.com/chat/completions
2025-12-10 17:10:00,890 - app.api.routes.assist - INFO - Analyze request for ticket 11925 (Tenant: wedosoft)
2025-12-10 17:10:00,891 - app.agents.retriever - INFO - Retrieving context via Gemini
2025-12-10 17:10:00,891 - app.services.gemini_file_search_client - INFO - ğŸ“ Conversation history: 0 turns
2025-12-10 17:10:00,891 - app.services.gemini_file_search_client - INFO -   [0] user: í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ...
2025-12-10 17:10:00,891 - app.services.gemini_file_search_client - INFO - Built contents with 1 turns (history: 0)
2025-12-10 17:10:03,088 - openai._base_client - DEBUG - HTTP Response: POST https://api.deepseek.com/chat/completions "200 OK" Headers({'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Wed, 10 Dec 2025 08:09:58 GMT', 'server': 'elb', 'content-encoding': 'gzip', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'ae8efcc521e674e7a9cca07c99b8a8bc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-cache': 'Miss from cloudfront', 'via': '1.1 5a02869dc4be6a86fc8c791195668e54.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'ICN80-P1', 'x-amz-cf-id': 'WqJKIzYwhrrk218khRnZqHiahtyLsymmXD_BPgcvXk1bL9DiuXAxxg=='})
2025-12-10 17:10:03,089 - openai._base_client - DEBUG - request_id: None
2025-12-10 17:10:03,090 - app.agents.analyzer - INFO - Analysis complete: technical_issue
2025-12-10 17:10:03,092 - app.agents.resolver - INFO - Proposing solution
2025-12-10 17:10:03,100 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-38c67996-dc29-482f-96a0-43f2157fb4ba', 'json_data': {'messages': [{'role': 'system', 'content': '\n        You are a helpful support agent. Based on the ticket and search results, \n        generate a response draft and suggest field updates.\n        \n        Return JSON with:\n        - draft_response: Polite, helpful response in Korean\n        - field_updates: { priority, status, type, tags } (only if changes needed)\n        - reasoning: Why you made these suggestions\n        '}, {'role': 'user', 'content': '{"ticket": {"ticketId": "11925", "subject": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ", "description": "ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ì¶”ê°€í•˜ê³   í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ (yml)ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.  (ì—…ë¡œë“œ ì„±ê³µí•˜ì˜€ë‹¤ëŠ” íŒì—… ë©”ì‹œì§€ í™•ì¸í•¨)  ì—…ë¡œë“œ í›„ í˜„ì¬ ë²„ì „ì˜ yml íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì œê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ì•„ë‹Œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‹¤ìš´ë¡œë“œ ë˜ê³  ìˆìŠµë‹ˆë‹¤.  íŒŒì¼ì— ì‘ì„±í•œ í˜•ì‹ì´ ì˜ëª»ëœ ê²ƒì¸ì§€ í˜¹ì€ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì¸ì§€ ì ê²€ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.  ê°ì‚¬í•©ë‹ˆë‹¤.", "priority": null, "status": null, "tags": null, "streamProgress": false}, "analysis": {"intent": "technical_issue", "sentiment": "neutral", "summary": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ì„ ì—…ë¡œë“œí–ˆì§€ë§Œ, ë‹¤ìš´ë¡œë“œ ì‹œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œë¥¼ ë³´ê³ í•©ë‹ˆë‹¤.", "key_entities": ["í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼", "yml íŒŒì¼", "Japanese", "ì–¸ì–´ ê´€ë¦¬", "í—¬í”„ë°ìŠ¤í¬"]}, "similar_cases": [], "kb_articles": []}'}], 'model': 'deepseek-chat', 'response_format': {'type': 'json_object'}, 'temperature': 0.7}}
2025-12-10 17:10:03,101 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.deepseek.com/chat/completions
2025-12-10 17:10:12,438 - app.agents.retriever - INFO - Context retrieval complete
2025-12-10 17:10:12,439 - app.agents.analyzer - INFO - Analyzing ticket
2025-12-10 17:10:12,448 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-c8000e18-4212-4294-a07b-b2e02d2c6c27', 'json_data': {'messages': [{'role': 'system', 'content': '\n        You are an expert customer support analyzer. Analyze the ticket and return JSON with:\n        - intent: (inquiry, complaint, request, technical_issue)\n        - sentiment: (positive, neutral, negative, urgent)\n        - summary: 1-sentence summary in Korean\n        - key_entities: list of important entities\n        '}, {'role': 'user', 'content': '{"ticketId": "11925", "subject": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ", "description": "ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ì¶”ê°€í•˜ê³   í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ (yml)ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.  (ì—…ë¡œë“œ ì„±ê³µí•˜ì˜€ë‹¤ëŠ” íŒì—… ë©”ì‹œì§€ í™•ì¸í•¨)  ì—…ë¡œë“œ í›„ í˜„ì¬ ë²„ì „ì˜ yml íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì œê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ì•„ë‹Œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‹¤ìš´ë¡œë“œ ë˜ê³  ìˆìŠµë‹ˆë‹¤.  íŒŒì¼ì— ì‘ì„±í•œ í˜•ì‹ì´ ì˜ëª»ëœ ê²ƒì¸ì§€ í˜¹ì€ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì¸ì§€ ì ê²€ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.  ê°ì‚¬í•©ë‹ˆë‹¤.", "priority": null, "status": null, "tags": null, "streamProgress": false}'}], 'model': 'deepseek-chat', 'response_format': {'type': 'json_object'}, 'temperature': 0.3}}
2025-12-10 17:10:12,449 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.deepseek.com/chat/completions
2025-12-10 17:10:16,903 - openai._base_client - DEBUG - HTTP Response: POST https://api.deepseek.com/chat/completions "200 OK" Headers({'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Wed, 10 Dec 2025 08:10:03 GMT', 'server': 'elb', 'content-encoding': 'gzip', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'ea9d6c11e81e126325d95b8a1e318f87', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-cache': 'Miss from cloudfront', 'via': '1.1 6fdcf3859edd7d8196ec82885904fc10.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'ICN57-P4', 'x-amz-cf-id': '_juHsjHTVCyt6bHGKa7RoU-Rulc_0_AsyALpvwSvuWy5Xc_LmSDKlg=='})
2025-12-10 17:10:16,904 - openai._base_client - DEBUG - request_id: None
2025-12-10 17:10:16,905 - app.agents.resolver - INFO - Solution proposed
2025-12-10 17:10:16,906 - app.agents.approval - INFO - Checking approval status
2025-12-10 17:10:16,906 - app.agents.approval - INFO - Auto-approved (MVP)
2025-12-10 17:10:17,483 - openai._base_client - DEBUG - HTTP Response: POST https://api.deepseek.com/chat/completions "200 OK" Headers({'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Wed, 10 Dec 2025 08:10:12 GMT', 'server': 'elb', 'content-encoding': 'gzip', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': 'cff95e8b268b30435c4555ead5c55511', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-cache': 'Miss from cloudfront', 'via': '1.1 a252aeda8ec1e2b582ae9a32f7c8d544.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'ICN57-P2', 'x-amz-cf-id': 'rbLQGuPrpY9001XqOKzsXHPqJdubsGYm_2YlKb1DmKPbVYQHN2FUOg=='})
2025-12-10 17:10:17,484 - openai._base_client - DEBUG - request_id: None
2025-12-10 17:10:17,485 - app.agents.analyzer - INFO - Analysis complete: technical_issue
2025-12-10 17:10:17,487 - app.agents.resolver - INFO - Proposing solution
2025-12-10 17:10:17,496 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-7a4585a1-da0c-4942-afbb-4bccd8fe51bf', 'json_data': {'messages': [{'role': 'system', 'content': '\n        You are a helpful support agent. Based on the ticket and search results, \n        generate a response draft and suggest field updates.\n        \n        Return JSON with:\n        - draft_response: Polite, helpful response in Korean\n        - field_updates: { priority, status, type, tags } (only if changes needed)\n        - reasoning: Why you made these suggestions\n        '}, {'role': 'user', 'content': '{"ticket": {"ticketId": "11925", "subject": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ ì ìš© ì•ˆë˜ëŠ” í˜„ìƒ", "description": "ì•ˆë…•í•˜ì„¸ìš”.  ì¼ë³¸ì–´ ì§€ì›ì„ ìœ„í•˜ì—¬ í—¬í”„ë°ìŠ¤í¬ > ì–¸ì–´ ê´€ë¦¬ ë©”ë‰´ì—ì„œ ì§€ì›ë˜ëŠ” ì–¸ì–´ì— Japaneseë¥¼ ì¶”ê°€í•˜ê³   í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ (yml)ì„ êµ¬ì„±í•˜ì—¬ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤.  (ì—…ë¡œë“œ ì„±ê³µí•˜ì˜€ë‹¤ëŠ” íŒì—… ë©”ì‹œì§€ í™•ì¸í•¨)  ì—…ë¡œë“œ í›„ í˜„ì¬ ë²„ì „ì˜ yml íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ì œê°€ ì—…ë¡œë“œí•œ íŒŒì¼ì´ ì•„ë‹Œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‹¤ìš´ë¡œë“œ ë˜ê³  ìˆìŠµë‹ˆë‹¤.  íŒŒì¼ì— ì‘ì„±í•œ í˜•ì‹ì´ ì˜ëª»ëœ ê²ƒì¸ì§€ í˜¹ì€ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆëŠ” ê²ƒì¸ì§€ ì ê²€ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.  ê°ì‚¬í•©ë‹ˆë‹¤.", "priority": null, "status": null, "tags": null, "streamProgress": false}, "analysis": {"intent": "technical_issue", "sentiment": "neutral", "summary": "í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼ì„ ì—…ë¡œë“œí–ˆì§€ë§Œ, ë‹¤ìš´ë¡œë“œ ì‹œ ê¸°ë³¸ íŒŒì¼ì´ ê³„ì† ë‚˜íƒ€ë‚˜ëŠ” ë¬¸ì œë¥¼ ì ê²€ ìš”ì²­í•©ë‹ˆë‹¤.", "key_entities": ["í‹°ì¼“ í•„ë“œ ë²ˆì—­ íŒŒì¼", "yml íŒŒì¼", "Japanese ì–¸ì–´", "í—¬í”„ë°ìŠ¤í¬ ì–¸ì–´ ê´€ë¦¬", "ì—…ë¡œë“œ", "ë‹¤ìš´ë¡œë“œ"]}, "similar_cases": [], "kb_articles": []}'}], 'model': 'deepseek-chat', 'response_format': {'type': 'json_object'}, 'temperature': 0.7}}
2025-12-10 17:10:17,496 - openai._base_client - DEBUG - Sending HTTP Request: POST https://api.deepseek.com/chat/completions
2025-12-10 17:10:34,013 - openai._base_client - DEBUG - HTTP Response: POST https://api.deepseek.com/chat/completions "200 OK" Headers({'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'date': 'Wed, 10 Dec 2025 08:10:17 GMT', 'server': 'elb', 'content-encoding': 'gzip', 'vary': 'origin, access-control-request-method, access-control-request-headers', 'access-control-allow-credentials': 'true', 'x-ds-trace-id': '564b5e801580d230dcdf94fcb4a59a07', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-cache': 'Miss from cloudfront', 'via': '1.1 232f529b48807c28bd4d1ab616bbae30.cloudfront.net (CloudFront)', 'x-amz-cf-pop': 'ICN80-P3', 'x-amz-cf-id': '1NeXoShdo55phU968VxBzYpJq28Sm_LFamAe4-ZInKajkcSC6FSW_A=='})
2025-12-10 17:10:34,013 - openai._base_client - DEBUG - request_id: None
2025-12-10 17:10:34,014 - app.agents.resolver - INFO - Solution proposed
2025-12-10 17:10:34,015 - app.agents.approval - INFO - Checking approval status
2025-12-10 17:10:34,016 - app.agents.approval - INFO - Auto-approved (MVP)
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-12-10 17:11:03,901 - app.services.scheduler_service - INFO - ìŠ¤ì¼€ì¤„ëŸ¬ ì¢…ë£Œë¨
2025-12-10 17:11:03,901 - app.main - INFO - Scheduler stopped
2025-12-10 17:11:03,901 - apscheduler.scheduler - INFO - Scheduler has been shut down
INFO:     Application shutdown complete.
INFO:     Finished server process [76056]
INFO:     Stopping reloader process [76052]
