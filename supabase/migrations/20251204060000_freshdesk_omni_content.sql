-- ============================================
-- Freshdesk Omni 학습 콘텐츠
-- Date: 2025-12-04
-- 4개 모듈 × 3레벨 (기초/중급/고급)
-- ============================================

-- Module UUIDs:
-- omni-workspace: dce2d97e-bedf-47b7-91cc-8c6d96c21b44
-- chat-to-ticket: 1092f266-20e1-48c0-9bdb-91039b67f27d
-- omni-routing: 901f1197-c208-47bc-a253-0058b157fa0e
-- customer-360: 8bbfedb4-ac6a-48bc-8f5c-2b38bf7ddae6

-- ============================================
-- 1. 통합 워크스페이스 (omni-workspace)
-- ============================================

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order, estimated_minutes) VALUES
('dce2d97e-bedf-47b7-91cc-8c6d96c21b44', 'overview', 'basic', 'Freshdesk Omni란?', 
$CONTENT$
## 🌐 Freshdesk Omni - 통합 고객 경험

### Omni의 의미

**Omni** = 라틴어로 "모든 것"
**Omnichannel** = 모든 채널의 통합

### Freshdesk vs Freshchat vs Omni

| 제품 | 핵심 기능 | 채널 |
|------|----------|------|
| **Freshdesk** | 티켓 관리 | 이메일, 전화, 웹 폼 |
| **Freshchat** | 실시간 메시징 | 채팅, WhatsApp, 메신저 |
| **Freshdesk Omni** | 통합 워크스페이스 | 모든 채널 + 통합 뷰 |

### Omni의 핵심 가치

```
Before Omni:
  채팅 팀 → Freshchat
  이메일 팀 → Freshdesk
  고객 정보 분산, 컨텍스트 단절

After Omni:
  모든 팀 → 통합 워크스페이스
  고객 정보 통합, 끊김 없는 경험
```

### 통합 워크스페이스의 장점

- 📱 **하나의 화면**: 모든 채널 대화
- 👤 **360도 고객 뷰**: 전체 히스토리
- 🔄 **채널 전환**: 채팅 → 티켓 자연스럽게
- 📊 **통합 분석**: 채널 통합 성과 측정
$CONTENT$, 1, 5),

('dce2d97e-bedf-47b7-91cc-8c6d96c21b44', 'concept', 'basic', '통합 인박스 이해', 
$CONTENT$
## 📥 하나의 인박스, 모든 대화

### 통합 인박스 구조

```
┌─────────────────────────────────────────┐
│  📥 통합 인박스                          │
├─────────────────────────────────────────┤
│  🔵 채팅    "결제가 안 돼요"    2분 전   │
│  📧 이메일  "RE: 환불 요청"     10분 전  │
│  📱 WhatsApp "주문 확인 부탁"   15분 전  │
│  🎫 티켓    "로그인 오류"       1시간 전 │
└─────────────────────────────────────────┘
```

### 대화 유형 통합

| 유형 | 원래 제품 | Omni에서 |
|------|----------|----------|
| 실시간 채팅 | Freshchat | 대화 (Conversation) |
| 이메일 티켓 | Freshdesk | 대화 (Conversation) |
| WhatsApp | Freshchat | 대화 (Conversation) |
| 전화 기록 | Freshcaller | 대화 (Conversation) |

### 필터와 뷰

| 필터 | 용도 |
|------|------|
| **채널별** | 이메일만, 채팅만 |
| **상태별** | 열림, 대기 중, 해결됨 |
| **배정별** | 나에게, 팀에게, 미배정 |
| **우선순위** | 긴급, 높음, 보통, 낮음 |
$CONTENT$, 2, 8),

('dce2d97e-bedf-47b7-91cc-8c6d96c21b44', 'practice', 'basic', '워크스페이스 탐색', 
$CONTENT$
## ✏️ Omni 워크스페이스 둘러보기

### 1단계: 로그인

Freshdesk Omni 계정으로 로그인
→ 통합 대시보드 표시

### 2단계: 인박스 확인

좌측 메뉴: **Conversations** 클릭

```
📥 All Conversations
├── 🔵 Unassigned (5)
├── 👤 Assigned to me (3)
├── 👥 Team inbox (12)
└── ✅ Resolved (today: 8)
```

### 3단계: 대화 열기

아무 대화 클릭 → 상세 뷰 열림

```
┌─────────────────┬─────────────────┐
│                 │  👤 고객 정보    │
│   대화 내용      │  ─────────────  │
│                 │  이름: 김철수    │
│                 │  이메일: kim@... │
│                 │  이전 대화: 3건  │
│                 │  ─────────────  │
│                 │  📋 고객 속성    │
│                 │  플랜: Pro      │
│                 │  가입일: 2024-01 │
└─────────────────┴─────────────────┘
```

### 4단계: 기본 작업

- **답장**: 하단 입력창에서 작성
- **배정**: 우측 상단 배정 버튼
- **상태 변경**: 해결됨, 대기 중 등
$CONTENT$, 3, 10),

('dce2d97e-bedf-47b7-91cc-8c6d96c21b44', 'overview', 'intermediate', '에이전트 경험 최적화', 
$CONTENT$
## ⚡ 효율적인 작업 환경

### 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| `R` | 답장 |
| `N` | 노트 추가 |
| `E` | 이메일로 전환 |
| `A` | 배정 |
| `S` | 상태 변경 |
| `/` | 명령어 검색 |

### 매크로 (Canned Response)

자주 쓰는 답변 저장:

```
/hello
→ "안녕하세요, [고객명]님!
   무엇을 도와드릴까요?"

/refund_process
→ "환불 처리 안내드립니다.
   1. 마이페이지 → 주문내역
   2. 해당 주문 선택
   3. 환불 요청 버튼 클릭
   처리까지 3-5 영업일 소요됩니다."
```

### 동시 대화 관리

```
탭 형태로 여러 대화 관리:
[대화1] [대화2] [대화3] [+]

권장: 최대 3-5개 동시 처리
```
$CONTENT$, 1, 10),

('dce2d97e-bedf-47b7-91cc-8c6d96c21b44', 'overview', 'advanced', '맞춤형 워크스페이스', 
$CONTENT$
## 🛠️ 워크스페이스 커스터마이징

### 커스텀 뷰 생성

**설정 예시: "긴급 VIP 문의"**

```
조건:
- 우선순위 = 긴급
- 고객 태그에 "VIP" 포함
- 상태 = 열림 OR 대기 중

정렬: 생성 시간 오래된 순
```

### 레이아웃 커스터마이징

| 영역 | 커스터마이징 |
|------|-------------|
| 좌측 패널 | 표시할 뷰/폴더 선택 |
| 대화 목록 | 표시 정보 선택 |
| 상세 패널 | 위젯 배치 |
| 고객 정보 | 표시할 필드 선택 |

### 위젯 추가

```
고객 정보 패널에 추가 가능:
- 📦 최근 주문 (Shopify 연동)
- 💳 결제 정보 (Stripe 연동)
- 📊 사용량 (자체 API)
```

### 팀별 워크스페이스

| 팀 | 맞춤 설정 |
|-----|----------|
| 결제팀 | 결제 관련 뷰, Stripe 위젯 |
| 기술팀 | 버그 태그, JIRA 연동 |
| VIP팀 | VIP 전용 뷰, 우선 알림 |
$CONTENT$, 1, 12);


-- ============================================
-- 2. 채팅-티켓 전환 (chat-to-ticket)
-- ============================================

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order, estimated_minutes) VALUES
('1092f266-20e1-48c0-9bdb-91039b67f27d', 'overview', 'basic', '채널 전환의 필요성', 
$CONTENT$
## 🔄 채팅에서 티켓으로

### 왜 전환이 필요한가?

| 채팅 | 티켓 |
|------|------|
| 실시간 응대 | 비동기 추적 |
| 단순 문의 | 복잡한 이슈 |
| 빠른 해결 | 장기간 처리 |

### 전환이 필요한 상황

```
✅ 개발팀 확인 필요 → 티켓으로 전환
✅ 서류 제출 필요 → 티켓으로 전환
✅ 상위 권한 승인 필요 → 티켓으로 전환
❌ 바로 해결 가능 → 채팅에서 해결
```

### Omni의 장점

| Before (분리) | After (Omni) |
|--------------|--------------|
| 채팅 종료 → 별도 티켓 생성 | 대화 계속 유지 |
| 고객 정보 재입력 | 자동 연결 |
| 맥락 단절 | 히스토리 통합 |
| 고객 재설명 필요 | 이전 대화 참조 |

### 통합의 핵심

```
고객 관점:
"채팅이든 이메일이든 하나의 대화로 느껴져요"

에이전트 관점:
"모든 맥락이 이어져서 효율적이에요"
```
$CONTENT$, 1, 5),

('1092f266-20e1-48c0-9bdb-91039b67f27d', 'concept', 'basic', '전환 프로세스', 
$CONTENT$
## ⚙️ 채팅 → 티켓 전환 방법

### 자동 전환 조건

| 조건 | 설명 |
|------|------|
| 영업 시간 외 | 채팅 → 티켓 자동 생성 |
| 에이전트 미배정 | 일정 시간 후 티켓화 |
| 고객 이탈 | 대화 미완료 시 티켓 |

### 수동 전환 방법

```
대화 중:
1. 상단 메뉴 [⋮] 클릭
2. "Create as Ticket" 선택
3. 티켓 정보 확인
   - 제목: 대화 요약
   - 설명: 채팅 내용 포함
   - 우선순위: 선택
4. 생성 클릭
```

### 전환 시 유지되는 정보

| 항목 | 유지 여부 |
|------|----------|
| 채팅 내용 | ✅ 티켓 설명에 포함 |
| 첨부 파일 | ✅ 자동 연결 |
| 고객 정보 | ✅ 자동 연결 |
| 태그 | ✅ 전달 |
| 에이전트 노트 | ✅ 내부 노트로 |
$CONTENT$, 2, 8),

('1092f266-20e1-48c0-9bdb-91039b67f27d', 'practice', 'basic', '전환 실습', 
$CONTENT$
## ✏️ 채팅을 티켓으로 전환하기

### 시나리오
고객이 채팅으로 환불 요청 → 서류 확인 필요 → 티켓으로 전환

### 1단계: 채팅 대화 중

```
고객: "지난주 주문 환불 받고 싶어요"
에이전트: "네, 환불 도와드리겠습니다. 
         주문번호 확인되셨나요?"
고객: "12345입니다"
에이전트: "확인했습니다. 제품 하자로 인한 
         환불이시라 증빙 서류가 필요합니다."
```

### 2단계: 티켓 전환

1. **[⋮]** → **Create Ticket** 클릭
2. 티켓 정보 설정:
   ```
   제목: 환불 요청 - 주문 #12345
   우선순위: 보통
   태그: 환불, 서류필요
   ```
3. **Create** 클릭

### 3단계: 고객 안내

```
에이전트: "원활한 처리를 위해 티켓으로 전환했습니다.
         티켓번호: #67890
         이메일로 서류 제출해주시면 처리해드릴게요.
         진행 상황은 이메일로 안내드립니다!"
```

### 4단계: 티켓에서 계속

- 티켓 #67890에서 서류 수신 대기
- 이메일 회신으로 추가 안내
$CONTENT$, 3, 10),

('1092f266-20e1-48c0-9bdb-91039b67f27d', 'overview', 'intermediate', '하이브리드 대화 관리', 
$CONTENT$
## 🔀 여러 채널 오가기

### 멀티채널 시나리오

```
Day 1: 고객 채팅 문의 → 답변
Day 2: 같은 고객 이메일 → 같은 대화에 연결
Day 3: WhatsApp으로 추가 질문 → 계속 연결
```

### 채널 전환 알림

```
[채널 전환 감지]
"이 고객이 WhatsApp으로도 연락했습니다.
 대화를 병합하시겠습니까?"
 [병합] [별도 유지]
```

### 채널별 응답 방법

| 인입 채널 | 응답 채널 | 설정 |
|----------|----------|------|
| 채팅 | 채팅 | 기본 |
| 이메일 | 이메일 | 기본 |
| 채팅 → 종료 | 이메일 | 선택 가능 |
| WhatsApp | WhatsApp | 기본 |

### 채널 선택 가이드

```
고객이 오프라인 → 이메일로 응답
긴급한 후속 조치 → 채팅/전화
상세 안내 필요 → 이메일 (첨부 가능)
```
$CONTENT$, 1, 10),

('1092f266-20e1-48c0-9bdb-91039b67f27d', 'overview', 'advanced', '자동화된 채널 라우팅', 
$CONTENT$
## ⚡ 스마트 채널 전환

### 자동 전환 규칙 설정

**예시: 복잡한 기술 문의 자동 티켓화**

```
조건:
- 채팅 대화 길이 > 10 메시지
- AND 태그에 "기술문의" 포함
- AND 해결되지 않음

액션:
- 자동으로 티켓 생성
- 기술팀에 배정
- 채팅에 안내 메시지 발송
```

### 채널 추천 AI

```
[Freddy AI 분석]
"이 문의는 상세 설명이 필요합니다.
이메일 티켓으로 전환을 권장합니다."

[권장 이유]
- 스크린샷 첨부 필요 예상
- 여러 단계 안내 필요
- 고객 재방문 필요
```

### 에스컬레이션 자동화

```
Tier 1 (채팅):
→ 10분 내 미해결
→ 자동 티켓화 + Tier 2 배정

Tier 2 (티켓):
→ 24시간 내 미해결
→ 긴급 태그 + 관리자 알림
```
$CONTENT$, 1, 12);


-- ============================================
-- 3. 옴니채널 라우팅 (omni-routing)
-- ============================================

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order, estimated_minutes) VALUES
('901f1197-c208-47bc-a253-0058b157fa0e', 'overview', 'basic', '통합 라우팅 개념', 
$CONTENT$
## 🎯 모든 채널, 하나의 라우팅

### 옴니채널 라우팅이란?

모든 채널의 대화를 **하나의 규칙**으로 배정

### 기존 vs 옴니채널

| 기존 (채널별) | 옴니채널 (통합) |
|--------------|----------------|
| 채팅 → 채팅팀 규칙 | 모든 대화 → |
| 이메일 → 이메일 규칙 | 통합 라우팅 규칙 |
| 규칙 중복 관리 | 한 곳에서 관리 |

### 통합 라우팅의 장점

```
✅ 에이전트 효율: 채널 불문 처리
✅ 일관된 SLA: 채널별 편차 제거
✅ 유연한 리소스: 수요에 따라 이동
✅ 단순한 관리: 규칙 일원화
```

### 라우팅 우선순위

```
1. 기존 대화 연속 (Same agent)
2. 스킬 매칭 (Skill-based)
3. 로드 밸런싱 (Load balance)
4. 라운드 로빈 (Round robin)
```
$CONTENT$, 1, 5),

('901f1197-c208-47bc-a253-0058b157fa0e', 'concept', 'basic', '용량 기반 배정', 
$CONTENT$
## ⚖️ 에이전트 용량 관리

### 용량(Capacity)이란?

에이전트가 **동시에 처리할 수 있는 대화 수**

### 채널별 용량 설정

| 채널 | 용량 소모 | 이유 |
|------|----------|------|
| 채팅 | 1 | 실시간 응대 필요 |
| 이메일 | 0.5 | 비동기 처리 가능 |
| 전화 | 3 | 완전 집중 필요 |

### 예시: 에이전트 용량 10

```
시나리오 A:
- 채팅 5개 (5) + 이메일 10개 (5) = 10 ✅

시나리오 B:
- 채팅 8개 (8) + 이메일 4개 (2) = 10 ✅

시나리오 C:
- 전화 1개 (3) + 채팅 7개 (7) = 10 ✅
```

### 용량 초과 시

```
에이전트 용량: 10/10 (풀)
    ↓
신규 대화 → 대기열로
    ↓
에이전트 대화 종료 → 용량 확보
    ↓
대기열에서 자동 배정
```
$CONTENT$, 2, 8),

('901f1197-c208-47bc-a253-0058b157fa0e', 'practice', 'basic', '라우팅 규칙 설정', 
$CONTENT$
## ✏️ 통합 라우팅 규칙 만들기

### 시나리오
모든 채널의 "결제" 관련 문의 → 결제팀 배정

### 1단계: 라우팅 규칙 접근

**Admin** → **Routing** → **Omnichannel Rules**

### 2단계: 새 규칙 생성

**+ New Rule** 클릭

### 3단계: 조건 설정

```
규칙 이름: 결제 문의 통합 라우팅

조건 (ANY):
- 메시지에 "결제" 포함
- OR 메시지에 "payment" 포함
- OR 메시지에 "환불" 포함
- OR 태그 = "billing"

적용 채널: 모든 채널 ✅
```

### 4단계: 액션 설정

```
배정 대상: 결제팀
배정 방식: 로드 밸런싱
용량 기준: 표준 (채널별 가중치)
```

### 5단계: 우선순위

- 우선순위: 1 (최상위)
- 다른 규칙보다 먼저 확인

### 테스트

1. 채팅으로 "결제 문의" 전송 → 결제팀 배정 ✓
2. 이메일로 "환불 요청" 전송 → 결제팀 배정 ✓
$CONTENT$, 3, 10),

('901f1197-c208-47bc-a253-0058b157fa0e', 'overview', 'intermediate', '인텔리전트 라우팅', 
$CONTENT$
## 🧠 AI 기반 스마트 라우팅

### Freddy AI 라우팅

| 분석 | 활용 |
|------|------|
| **의도 감지** | 문의 유형 자동 분류 |
| **감정 분석** | 불만 고객 우선 배정 |
| **언어 감지** | 해당 언어 에이전트 |
| **복잡도 예측** | 티어별 배정 |

### 예측 기반 배정

```
[새 대화 분석]
- 의도: 기술 지원
- 감정: 부정적 (0.7)
- 예상 복잡도: 높음
- 언어: 한국어

[라우팅 결정]
→ 기술팀 시니어 에이전트
→ 우선순위 높음으로 설정
```

### 과거 이력 기반 라우팅

```
고객 히스토리:
- 이전 담당: 에이전트 A
- 만족도: 높음
- 제품: Enterprise 플랜

라우팅:
→ 가능하면 에이전트 A에게
→ 불가시 같은 팀 에이전트
```
$CONTENT$, 1, 10),

('901f1197-c208-47bc-a253-0058b157fa0e', 'overview', 'advanced', '글로벌 라우팅 전략', 
$CONTENT$
## 🌍 글로벌 팀 라우팅

### 시간대 기반 라우팅 (Follow the Sun)

```
시간대별 운영:
00:00-08:00 UTC → 아시아팀 (서울, 도쿄)
08:00-16:00 UTC → 유럽팀 (런던, 베를린)
16:00-24:00 UTC → 미주팀 (뉴욕, LA)
```

### 설정 방법

```
규칙: 시간대 라우팅

조건:
- 현재 시간 = 09:00-18:00 KST
- AND 언어 = 한국어

액션:
→ 한국팀 배정

폴백:
→ 영어팀 (24시간)
```

### 오버플로우 전략

```
1차: 담당 지역팀
    ↓ (용량 초과)
2차: 인접 시간대 팀
    ↓ (용량 초과)
3차: 글로벌 백업팀
    ↓ (용량 초과)
4차: 대기열 + 콜백 제안
```

### SLA 조정

| 시간대 | 첫 응답 목표 |
|--------|-------------|
| 주간 (담당) | 1분 |
| 야간 (백업) | 5분 |
| 주말 | 15분 |
$CONTENT$, 1, 12);


-- ============================================
-- 4. 고객 360도 뷰 (customer-360)
-- ============================================

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order, estimated_minutes) VALUES
('8bbfedb4-ac6a-48bc-8f5c-2b38bf7ddae6', 'overview', 'basic', '통합 고객 프로필', 
$CONTENT$
## 👤 360도 고객 뷰란?

### 개념

고객에 대한 **모든 정보를 한눈에** 보는 통합 뷰

### 포함 정보

```
┌─────────────────────────────────────┐
│          👤 김철수 고객              │
├─────────────────────────────────────┤
│ 📧 kim@example.com                  │
│ 📱 010-1234-5678                    │
├─────────────────────────────────────┤
│ 📊 고객 정보                         │
│ • 플랜: Enterprise                  │
│ • 가입일: 2023-01-15                │
│ • 회사: ABC Corp                    │
├─────────────────────────────────────┤
│ 💬 최근 대화 (3건)                   │
│ • 결제 문의 - 2일 전 (해결)          │
│ • 기능 질문 - 1주 전 (해결)          │
│ • 온보딩 - 1달 전 (해결)             │
├─────────────────────────────────────┤
│ ⭐ 만족도: 4.5/5                    │
│ 📈 총 대화: 12건 | 해결: 11건        │
└─────────────────────────────────────┘
```

### 360도 뷰의 가치

| Before | After |
|--------|-------|
| "주문번호 알려주세요" | 이미 표시됨 |
| "언제 가입하셨죠?" | 이미 표시됨 |
| "이전에 문의하신 적 있나요?" | 히스토리 확인 |
$CONTENT$, 1, 5),

('8bbfedb4-ac6a-48bc-8f5c-2b38bf7ddae6', 'concept', 'basic', '고객 정보 통합', 
$CONTENT$
## 🔗 데이터 소스 통합

### 정보 수집 경로

| 소스 | 수집 정보 |
|------|----------|
| **가입 정보** | 이름, 이메일, 회사 |
| **대화 히스토리** | 이전 문의, 해결 내역 |
| **행동 데이터** | 방문 페이지, 사용 기능 |
| **외부 연동** | CRM, 결제, 주문 정보 |

### 고객 식별 방법

```
채팅 방문자 → 이메일 수집 → 기존 고객 매칭
    ↓
일치하는 고객 발견!
    ↓
모든 히스토리 자동 연결
```

### 통합 타임라인

```
📅 고객 여정 타임라인

2024-12-01: 웹사이트 첫 방문
2024-12-03: 채팅으로 가격 문의
2024-12-05: 무료 체험 가입
2024-12-10: 이메일로 기능 질문
2024-12-15: Pro 플랜 결제
2024-12-20: 채팅으로 설정 도움 요청
```

### 속성 우선순위

```
충돌 시 우선순위:
1. 사용자 입력 (가장 최근)
2. 연동 시스템 (CRM)
3. 자동 수집
```
$CONTENT$, 2, 8),

('8bbfedb4-ac6a-48bc-8f5c-2b38bf7ddae6', 'practice', 'basic', '고객 정보 활용', 
$CONTENT$
## ✏️ 고객 360 뷰 활용 실습

### 시나리오
단골 고객이 채팅으로 문의 → 맞춤 응대

### 1단계: 대화 열기

새 채팅 수신 → 대화 클릭

### 2단계: 고객 정보 확인

우측 패널에서 확인:

```
👤 이민수
📧 lee@company.com
📱 VIP 고객 🏆

📊 프로필
• 플랜: Enterprise
• 가입: 2022-06-01 (2년+)
• 회사: XYZ Inc (50명)

💬 이전 대화
• 12건 문의 (모두 해결)
• 평균 CSAT: 4.8/5
• 마지막: 2주 전
```

### 3단계: 맞춤 인사

```
"안녕하세요, 이민수 고객님! 
 항상 저희 서비스 이용해주셔서 감사합니다.
 2년 넘게 함께해주셨네요. 무엇을 도와드릴까요?"
```

### 4단계: 이력 기반 응대

```
이전 문의: 대시보드 커스터마이징

"혹시 지난번 대시보드 설정 관련해서 
 추가 문의이신가요?"
```

### 결과

- 고객: 기억해줘서 감동
- 시간: 배경 설명 불필요
- CSAT: 높은 만족도
$CONTENT$, 3, 10),

('8bbfedb4-ac6a-48bc-8f5c-2b38bf7ddae6', 'overview', 'intermediate', 'CRM 연동', 
$CONTENT$
## 🔌 외부 시스템 연동

### 주요 연동 대상

| 시스템 | 연동 정보 | 가치 |
|--------|----------|------|
| **Salesforce** | 계정, 기회, 계약 | 영업 컨텍스트 |
| **HubSpot** | 연락처, 거래 | 마케팅 히스토리 |
| **Shopify** | 주문, 결제 | 구매 이력 |
| **Stripe** | 구독, 인보이스 | 결제 상태 |

### Freshsales 네이티브 연동

```
Freshsales 고객 정보 자동 표시:
• 거래 단계: 협상 중
• 거래 금액: $50,000
• 담당 영업: 김영업
• 마지막 통화: 3일 전
```

### 커스텀 앱 연동

```javascript
// 자체 시스템 연동 예시
freshdeskOmni.addWidget({
  name: "주문 정보",
  endpoint: "https://api.myshop.com/orders",
  params: { customer_email: "{{contact.email}}" },
  display: [
    { field: "last_order", label: "최근 주문" },
    { field: "total_spent", label: "총 구매액" }
  ]
});
```

### 양방향 동기화

```
Omni → CRM: 대화 생성, 태그 변경
CRM → Omni: 고객 정보 업데이트
```
$CONTENT$, 1, 10),

('8bbfedb4-ac6a-48bc-8f5c-2b38bf7ddae6', 'overview', 'advanced', '고객 인사이트 분석', 
$CONTENT$
## 📊 데이터 기반 고객 이해

### 고객 건강 점수 (Health Score)

```
점수 산정 요소:
• 제품 사용 빈도: 30%
• 지원 만족도: 25%
• 결제 정상 여부: 25%
• 기능 채택률: 20%

결과:
🟢 건강 (80+): 유지/업셀 기회
🟡 주의 (50-79): 모니터링 필요
🔴 위험 (50 미만): 즉시 개입
```

### 세그먼트 분석

```
VIP 세그먼트:
• 고객 수: 50명
• 평균 문의: 2건/월
• 평균 CSAT: 4.7
• 주요 문의: 기능 요청

일반 세그먼트:
• 고객 수: 500명
• 평균 문의: 0.5건/월
• 평균 CSAT: 4.2
• 주요 문의: 사용법
```

### 예측 분석

| 예측 | 활용 |
|------|------|
| 이탈 예측 | 위험 고객 선제 연락 |
| 업셀 기회 | 적절한 제안 타이밍 |
| 문의 예측 | 리소스 사전 배치 |

### 실시간 알림

```
[이탈 위험 알림]
고객: ABC Corp
위험도: 높음
신호: 
- 사용량 70% 감소
- 최근 불만 대화 2건
- 경쟁사 페이지 방문

권장 액션:
→ 고객 성공 매니저 배정
→ 1:1 체크인 미팅 제안
```
$CONTENT$, 1, 12);


-- ============================================
-- 결과 확인
-- ============================================
SELECT 
    cm.target_product_id,
    cm.name_ko as module_name,
    COUNT(mc.id) as content_count,
    STRING_AGG(DISTINCT mc.level, ', ' ORDER BY mc.level) as levels
FROM curriculum_modules cm
LEFT JOIN module_contents mc ON cm.id = mc.module_id
WHERE cm.target_product_id = 'freshdesk_omni'
GROUP BY cm.id, cm.target_product_id, cm.name_ko, cm.display_order
ORDER BY cm.display_order;
