-- =====================================================
-- 서비스 카탈로그 모듈 콘텐츠 (module_id: 4b570ffd-bacd-4815-bb77-4d9bfcdeb59e)
-- =====================================================

-- ===== 기초 레벨 =====

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'overview', 'basic', '서비스 카탈로그란?', 
'## 🛒 서비스 카탈로그의 개념

**서비스 카탈로그(Service Catalog)**는 IT 부서가 사용자에게 제공하는 모든 서비스를 정리한 "메뉴판"입니다.

### 왜 서비스 카탈로그가 필요한가요?

| 카탈로그 없이 | 카탈로그 사용 시 |
|--------------|-----------------|
| 어떤 서비스가 있는지 모름 | 이용 가능한 서비스 한눈에 파악 |
| 요청 방법이 제각각 | 표준화된 요청 양식 |
| 처리 시간 예측 불가 | 예상 소요 시간 안내 |
| 담당 부서 찾기 어려움 | 자동으로 적절한 팀에 배정 |

### 서비스 카탈로그 구성 요소

```
📂 서비스 카탈로그
├── 📁 카테고리 (서비스 분류)
│   ├── 📋 서비스 항목 1
│   ├── 📋 서비스 항목 2
│   └── 📋 서비스 항목 3
├── 📁 카테고리 2
│   └── ...
```

### 실제 예시

```
📂 IT 서비스 카탈로그
├── 📁 계정 관리
│   ├── 신규 계정 생성 요청
│   ├── 비밀번호 초기화
│   └── 권한 변경 요청
├── 📁 장비 요청
│   ├── 노트북 신규 지급
│   ├── 모니터 추가 요청
│   └── 주변기기 신청
├── 📁 소프트웨어
│   ├── 소프트웨어 설치 요청
│   └── 라이선스 신청
```

> 💡 **핵심 포인트**: 서비스 카탈로그는 사용자가 "셀프 서비스"로 필요한 IT 서비스를 요청할 수 있게 합니다.', 1);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'core_concepts', 'basic', '서비스 항목 이해하기', 
'## 📋 서비스 항목 (Service Item)

서비스 항목은 카탈로그에서 사용자가 선택할 수 있는 개별 서비스입니다.

### 서비스 항목의 구성 요소

| 요소 | 설명 | 예시 |
|-----|------|------|
| **이름** | 서비스 명칭 | 노트북 신규 지급 |
| **설명** | 서비스 상세 내용 | 신규 입사자 또는 교체가 필요한 경우... |
| **카테고리** | 서비스 분류 | 장비 요청 |
| **양식 필드** | 필요한 정보 입력 | 사양 선택, 사유 입력 등 |
| **예상 처리 시간** | 완료까지 소요 시간 | 3~5 영업일 |
| **승인 여부** | 승인 필요 유무 | 관리자 승인 필요 |

### 좋은 서비스 항목의 특징

✅ **명확한 이름**: 사용자가 한눈에 이해 가능
✅ **충분한 설명**: 어떤 경우에 요청하는지 명시
✅ **필요한 정보만 수집**: 불필요한 필드 없음
✅ **현실적인 처리 시간**: 달성 가능한 SLA

### 양식 필드 유형

```
┌─────────────────────────────────────┐
│      📋 노트북 신규 지급 요청        │
├─────────────────────────────────────┤
│ 요청 사유 *                          │
│ ┌─────────────────────────────────┐ │
│ │ 신규 입사                        │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 희망 사양 *                          │
│ ○ 표준형 (사무용)                    │
│ ● 고성능 (개발/디자인)                │
│ ○ 경량형 (영업/출장)                 │
│                                     │
│ 추가 요청 사항                        │
│ ┌─────────────────────────────────┐ │
│ │                                 │ │
│ │                                 │ │
│ └─────────────────────────────────┘ │
│                                     │
│         [ 요청 제출 ]                │
└─────────────────────────────────────┘
```

> 💡 **팁**: 필드가 많을수록 사용자 경험이 나빠집니다. 꼭 필요한 정보만 수집하세요.', 2);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'features', 'basic', '카테고리와 그룹', 
'## 📁 서비스 카테고리와 서비스 그룹

### 서비스 카테고리

서비스 항목을 논리적으로 분류하는 폴더입니다.

```
📂 카테고리 구조 예시
│
├── 📁 하드웨어
│   ├── 노트북
│   ├── 데스크톱
│   └── 주변기기
│
├── 📁 소프트웨어
│   ├── 오피스
│   ├── 개발도구
│   └── 보안솔루션
│
└── 📁 계정 및 접근권한
    ├── 이메일
    ├── VPN
    └── 시스템 접근권한
```

### 서비스 그룹 (처리 담당팀)

서비스 요청을 처리할 팀을 지정합니다.

| 서비스 항목 | 서비스 그룹 |
|------------|-----------|
| 노트북 지급 | IT 자산팀 |
| 소프트웨어 설치 | 헬프데스크 |
| VPN 접근권한 | 보안팀 |
| 서버 접근권한 | 인프라팀 |

### 카테고리 설계 팁

1. **사용자 관점에서 설계**: IT 용어보다 사용자가 이해하는 언어 사용
2. **3단계 이하 유지**: 너무 깊은 구조는 탐색이 어려움
3. **균형 있는 분류**: 한 카테고리에 항목이 너무 많거나 적지 않게

### 자주 하는 실수

❌ IT 조직 구조대로 카테고리 구성
❌ 전문 용어 남발 (예: "ITSM 변경 요청")
❌ 비슷한 서비스가 여러 카테고리에 분산

> 💡 **핵심**: 사용자가 3클릭 이내에 원하는 서비스를 찾을 수 있어야 합니다.', 3);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'practice', 'basic', '서비스 요청 처리하기', 
'## 🔄 서비스 요청 처리 워크플로우

### 기본 처리 흐름

```
┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐
│  요청   │ → │  검토   │ → │  처리   │ → │  완료   │
│  접수   │    │ (승인)  │    │  진행   │    │  통보   │
└─────────┘    └─────────┘    └─────────┘    └─────────┘
```

### 상태별 처리 가이드

| 상태 | 담당자 액션 | 사용자에게 보이는 상태 |
|-----|-----------|-------------------|
| **신규** | 요청 내용 확인 | "접수되었습니다" |
| **승인 대기** | 승인권자에게 전달 | "승인 대기 중" |
| **진행 중** | 실제 작업 수행 | "처리 중입니다" |
| **보류** | 추가 정보 필요 | "추가 정보 필요" |
| **완료** | 작업 완료 확인 | "완료되었습니다" |

### 서비스 요청 처리 단계

#### 1단계: 요청 검토
- 요청 내용이 명확한지 확인
- 필요한 정보가 모두 있는지 확인
- 부족하면 요청자에게 문의

#### 2단계: 승인 처리 (필요시)
- 비용 발생 시 관리자 승인
- 보안 관련 시 보안팀 승인
- 승인 거부 시 사유 안내

#### 3단계: 작업 수행
- 실제 서비스 제공
- 진행 상황 업데이트
- 문제 발생 시 요청자 안내

#### 4단계: 완료 및 확인
- 작업 완료 기록
- 요청자에게 완료 통보
- 만족도 조사 발송

### 의사소통 템플릿

```markdown
📧 접수 알림
───────────
안녕하세요, [요청자명]님.

요청하신 [서비스명]이 접수되었습니다.
- 티켓 번호: SR-2024-00123
- 예상 처리 시간: 3영업일

처리 완료 시 안내드리겠습니다.
───────────
```

> 💡 **팁**: 처리 지연 시 미리 알려주세요. 사용자는 기다리는 것보다 연락 없는 것을 더 싫어합니다.', 4);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'faq', 'basic', '자주 묻는 질문', 
'## ❓ 서비스 카탈로그 FAQ

### Q1: 서비스 요청과 인시던트의 차이는?

| 구분 | 서비스 요청 | 인시던트 |
|-----|-----------|---------|
| 상황 | 새로운 것을 원함 | 기존 것이 안 됨 |
| 예시 | "새 모니터 주세요" | "모니터가 안 켜져요" |
| 긴급도 | 보통 낮음 | 보통 높음 |
| 카탈로그 | 사용 | 미사용 |

---

### Q2: 카탈로그에 없는 서비스를 요청받으면?

1. **임시 처리**: 일반 티켓으로 처리
2. **분석**: 빈번한 요청인지 확인
3. **추가 검토**: 자주 요청되면 카탈로그에 추가 고려
4. **문서화**: 처리 방법 기록

---

### Q3: 승인 요청이 오래 걸리면?

```
┌─────────────────────────────────────┐
│  승인 지연 대응 체크리스트            │
├─────────────────────────────────────┤
│ □ 승인권자에게 리마인더 발송          │
│ □ 대리 승인자 확인                   │
│ □ 요청자에게 지연 안내               │
│ □ 에스컬레이션 필요 여부 판단         │
└─────────────────────────────────────┘
```

---

### Q4: 서비스 요청을 취소하고 싶다면?

- **처리 전**: 요청자가 직접 취소 가능
- **처리 중**: 담당자에게 연락하여 중단
- **완료 후**: 취소 불가, 반납/원복 별도 요청

---

### Q5: 같은 요청이 반복되면?

**자주 발생하는 요청 분석**:
- 셀프 서비스 가능한지 검토
- FAQ/가이드 문서 제공
- 자동화 가능 여부 확인
- 근본 원인 해결 (예: 자동 프로비저닝)

> 💡 **핵심**: 반복 요청은 프로세스 개선의 기회입니다!', 5);

-- ===== 중급 레벨 =====

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'overview', 'intermediate', '카탈로그 설계 전략', 
'## 📐 효과적인 서비스 카탈로그 설계

### 설계 원칙

1. **사용자 중심 (User-Centric)**
   - IT 조직이 아닌 사용자 관점에서 분류
   - 비즈니스 용어 사용

2. **간결성 (Simplicity)**
   - 3단계 이하 계층 구조
   - 서비스당 필드 최소화

3. **일관성 (Consistency)**
   - 동일한 네이밍 규칙
   - 통일된 양식 스타일

### 카탈로그 구조 설계 프로세스

```
┌───────────────────────────────────────────────────────┐
│ 1. 현황 분석                                          │
│    └─ 기존 요청 유형 파악 (티켓 데이터 분석)            │
└───────────────────────────────────────────────────────┘
                         ↓
┌───────────────────────────────────────────────────────┐
│ 2. 서비스 정의                                         │
│    └─ 제공 가능한 서비스 목록화                         │
└───────────────────────────────────────────────────────┘
                         ↓
┌───────────────────────────────────────────────────────┐
│ 3. 카테고리 설계                                       │
│    └─ 사용자 관점 그룹핑                               │
└───────────────────────────────────────────────────────┘
                         ↓
┌───────────────────────────────────────────────────────┐
│ 4. 워크플로우 정의                                     │
│    └─ 승인, SLA, 담당팀 설정                           │
└───────────────────────────────────────────────────────┘
                         ↓
┌───────────────────────────────────────────────────────┐
│ 5. 테스트 및 배포                                      │
│    └─ 파일럿 그룹 피드백 반영                          │
└───────────────────────────────────────────────────────┘
```

### 네이밍 규칙

| 권장 | 비권장 |
|-----|-------|
| 노트북 신청 | HW-REQ-001 |
| 비밀번호 초기화 | AD 패스워드 리셋 |
| 소프트웨어 설치 요청 | SW Install via SCCM |

> 💡 **팁**: 사용자가 검색할 때 쓸 법한 단어를 서비스 이름에 포함하세요.', 1);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'core_concepts', 'intermediate', '승인 워크플로우 설계', 
'## ✅ 승인 워크플로우 (Approval Workflow)

### 승인이 필요한 경우

| 조건 | 승인 유형 | 예시 |
|-----|---------|------|
| 비용 발생 | 관리자/재무 | 장비 구매, 라이선스 |
| 보안 민감 | 보안팀 | VPN, 서버 접근권한 |
| 정책 관련 | 인사팀/법무 | 외부 협업 도구 |
| 예산 초과 | 임원급 | 고가 장비 |

### 승인 흐름 유형

#### 1. 단일 승인
```
요청자 → 승인자 → 처리
```

#### 2. 순차 승인 (Sequential)
```
요청자 → 직속상사 → 부서장 → 처리
         (1단계)    (2단계)
```

#### 3. 병렬 승인 (Parallel)
```
           ┌→ 보안팀 ─┐
요청자 ────┤          ├→ 모두 승인 시 처리
           └→ 인프라팀 ┘
```

#### 4. 조건부 승인
```
요청 금액 < 100만원 → 팀장 승인
요청 금액 ≥ 100만원 → 팀장 + 본부장 승인
```

### Freshservice 승인 설정

```yaml
승인 규칙 예시:
  서비스: 노트북 신청
  조건:
    - IF 사양 = "고성능"
      THEN 승인자 = 팀장 + 자산관리자
    - ELSE
      THEN 승인자 = 팀장
  
  승인 기한: 3 영업일
  리마인더: 24시간 후 자동 발송
  위임: 부재 시 대리 승인자 지정 가능
```

### 승인 효율화 팁

1. **승인 없이 처리 가능한 항목 확대**
   - 소모품, 기본 소프트웨어 등

2. **자동 승인 규칙**
   - 일정 금액 이하는 자동 승인
   - 특정 부서/직급은 사전 승인

3. **승인 대리자 설정**
   - 휴가/출장 시 위임 설정
   - 부재 시 자동 에스컬레이션

> 💡 **주의**: 승인 단계가 많을수록 처리 시간이 길어집니다. 꼭 필요한 승인만 설정하세요.', 2);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'features', 'intermediate', 'SLA 정책 적용', 
'## ⏱️ 서비스 요청 SLA 관리

### SLA (Service Level Agreement) 란?

서비스 제공 수준에 대한 약속입니다.

| SLA 요소 | 설명 | 예시 |
|---------|------|------|
| **응답 시간** | 첫 응답까지 시간 | 4시간 이내 |
| **해결 시간** | 완료까지 시간 | 3 영업일 이내 |
| **영업시간** | SLA 계산 기준 | 평일 09:00-18:00 |

### 서비스별 SLA 예시

| 서비스 카테고리 | 응답 시간 | 해결 시간 | 비고 |
|---------------|----------|----------|------|
| 계정 생성/초기화 | 2시간 | 4시간 | 우선 처리 |
| 소프트웨어 설치 | 4시간 | 1영업일 | 표준 |
| 장비 신규 지급 | 8시간 | 5영업일 | 재고 확보 필요 |
| 권한 변경 | 4시간 | 2영업일 | 승인 포함 |

### SLA 정책 설정

```yaml
SLA 정책: 서비스 카탈로그 표준
───────────────────────────────
적용 대상: 모든 서비스 요청

우선순위별 목표:
  긴급:
    응답: 1시간
    해결: 4시간
  높음:
    응답: 2시간
    해결: 8시간
  중간:
    응답: 4시간
    해결: 24시간
  낮음:
    응답: 8시간
    해결: 72시간

영업시간: 
  월-금: 09:00 - 18:00
  휴일 제외: 예

에스컬레이션:
  해결 80% 도달: 담당자 알림
  해결 100% 도달: 관리자 알림
```

### SLA 보고서 활용

```
┌─────────────────────────────────────────────┐
│ 월간 SLA 달성률 대시보드                      │
├─────────────────────────────────────────────┤
│                                             │
│  응답 SLA: ████████████████████░░ 92%       │
│  해결 SLA: █████████████████░░░░░ 85%       │
│                                             │
│  위반 건수: 12건                             │
│  평균 해결 시간: 18시간                       │
│                                             │
└─────────────────────────────────────────────┘
```

> 💡 **실무 팁**: 처음에는 달성 가능한 SLA로 시작하고, 점진적으로 목표를 높여가세요.', 3);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'practice', 'intermediate', '양식 필드 고급 설정', 
'## 📝 동적 양식 필드 설계

### 필드 유형별 활용

| 필드 유형 | 용도 | 예시 |
|----------|-----|------|
| **텍스트** | 짧은 자유 입력 | 요청 사유, 이름 |
| **텍스트 영역** | 긴 설명 | 상세 요구사항 |
| **드롭다운** | 선택지 제한 | 부서, 사양 선택 |
| **라디오** | 단일 선택 (소수) | 긴급 여부 |
| **체크박스** | 다중 선택 | 추가 옵션 |
| **날짜** | 날짜 입력 | 희망 완료일 |
| **첨부파일** | 파일 업로드 | 승인서, 참고자료 |

### 조건부 필드 (Dynamic Fields)

사용자 선택에 따라 다른 필드를 보여줍니다.

```
┌─────────────────────────────────────────────┐
│ 요청 유형: [신규 ▼]                          │
│                                             │
│ ┌─ 신규 선택 시 ───────────────────────────┐ │
│ │ 사용 목적: [          ]                  │ │
│ │ 예산 코드: [          ]                  │ │
│ └──────────────────────────────────────────┘ │
│                                             │
│ ┌─ 교체 선택 시 ───────────────────────────┐ │
│ │ 기존 장비 번호: [          ]              │ │
│ │ 교체 사유: [          ]                   │ │
│ └──────────────────────────────────────────┘ │
└─────────────────────────────────────────────┘
```

### 필드 검증 규칙

```yaml
필드: 예산 코드
유형: 텍스트
필수: 예
검증:
  패턴: "^[A-Z]{2}-[0-9]{4}$"
  에러 메시지: "형식: AA-0000 (예: IT-2024)"
```

### 양식 설계 베스트 프랙티스

1. **필수 필드 최소화**
   - 처리에 꼭 필요한 정보만

2. **도움말 텍스트 활용**
   - 각 필드의 입력 방법 안내

3. **기본값 설정**
   - 가장 흔한 선택을 기본값으로

4. **입력 순서 최적화**
   - 자연스러운 흐름으로 배치

### 양식 테스트 체크리스트

```
□ 모든 필수 필드에 * 표시되는가?
□ 조건부 필드가 정상 작동하는가?
□ 검증 에러 메시지가 명확한가?
□ 모바일에서도 잘 보이는가?
□ 제출 후 확인 메시지가 표시되는가?
```

> 💡 **팁**: 양식을 만든 후 실제 사용자에게 테스트해보세요. 예상치 못한 혼란을 발견할 수 있습니다.', 4);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'faq', 'intermediate', '중급 FAQ', 
'## ❓ 중급 실무 FAQ

### Q1: 서비스 카탈로그 항목이 너무 많아졌어요

**정리 전략**:
1. 사용 빈도 분석 → 6개월간 0건은 숨김 처리
2. 유사 항목 통합 → "노트북 신규", "노트북 교체" → "노트북 요청"
3. 카테고리 재구성 → 사용자 피드백 기반
4. 인기 항목 상단 배치

---

### Q2: 승인자가 휴가일 때 요청이 멈춰요

**해결책**:
```yaml
위임 설정:
  - 부재 기간: 2024-01-15 ~ 2024-01-19
  - 위임자: 김대리
  - 자동 전환: 예
  
자동 에스컬레이션:
  - 미승인 48시간 경과 시
  - 상위 관리자에게 자동 전달
```

---

### Q3: 같은 요청인데 부서마다 양식이 달라요

**표준화 방안**:
1. 공통 필드와 부서별 필드 분리
2. 조건부 필드로 부서 선택 시 추가 필드 표시
3. 템플릿 기반 관리

```
공통: 요청자, 요청일, 상세 내용
│
├── 영업팀: 고객사명, 프로젝트명
├── 개발팀: 시스템명, 환경(개발/운영)
└── 관리팀: 비용센터, 결재라인
```

---

### Q4: SLA 달성률이 낮아요

**원인 분석**:
1. **비현실적 목표**: SLA 재조정 필요
2. **리소스 부족**: 인력/자동화 확충
3. **프로세스 병목**: 승인 단계 간소화
4. **우선순위 혼란**: 명확한 기준 수립

---

### Q5: 자주 사용하는 서비스를 더 빨리 찾게 하려면?

**UX 개선 방안**:
- 최근 요청 서비스 표시
- 부서별 추천 서비스
- 검색 자동완성
- "즐겨찾기" 기능 활용

> 💡 **핵심**: 서비스 카탈로그는 "살아있는 문서"입니다. 정기적으로 리뷰하고 개선하세요.', 5);

-- ===== 고급 레벨 =====

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'overview', 'advanced', '엔터프라이즈 카탈로그 아키텍처', 
'## 🏢 대규모 조직을 위한 서비스 카탈로그

### 멀티 테넌트 카탈로그 설계

대기업/그룹사 환경에서는 조직별로 다른 카탈로그가 필요합니다.

```
┌─────────────────────────────────────────────────────┐
│                   글로벌 카탈로그                    │
│    (전사 공통: 이메일, VPN, 표준 소프트웨어)          │
└─────────────────────────────────────────────────────┘
                         │
         ┌───────────────┼───────────────┐
         ↓               ↓               ↓
┌─────────────┐  ┌─────────────┐  ┌─────────────┐
│ 본사 카탈로그 │  │ 연구소 카탈로그│  │ 공장 카탈로그 │
│ • 회의실 예약 │  │ • 연구장비    │  │ • 생산설비   │
│ • 출장 지원  │  │ • 논문 검색  │  │ • 안전장비   │
└─────────────┘  └─────────────┘  └─────────────┘
```

### 역할 기반 카탈로그 접근

| 역할 | 볼 수 있는 서비스 |
|-----|-----------------|
| 일반 사용자 | 기본 서비스 |
| 개발자 | 기본 + 개발 도구 |
| 관리자 | 기본 + 관리 서비스 |
| VIP | 프리미엄 서비스 |

### 서비스 라이프사이클 관리

```
┌─────┐    ┌─────┐    ┌─────┐    ┌─────┐    ┌─────┐
│초안 │ → │검토 │ → │승인 │ → │운영 │ → │폐기 │
└─────┘    └─────┘    └─────┘    └─────┘    └─────┘
  │          │          │          │          │
  │          │          │          │          └─ 아카이브
  │          │          │          └─ 정기 리뷰
  │          │          └─ 파일럿 배포
  │          └─ 이해관계자 검토
  └─ 서비스 설계
```

### 거버넌스 체계

```yaml
카탈로그 거버넌스:
  오너십:
    글로벌: IT 서비스 관리팀
    로컬: 각 사업부 IT 담당자
  
  변경 프로세스:
    신규 추가: CAB 승인 필요
    수정: 오너 승인으로 가능
    삭제: 영향도 분석 후 CAB 승인
  
  리뷰 주기:
    사용량 분석: 월간
    서비스 리뷰: 분기별
    전체 재구성: 연간
```

> 💡 **핵심**: 대규모 조직에서는 중앙 통제와 로컬 자율성의 균형이 중요합니다.', 1);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'core_concepts', 'advanced', '오케스트레이션과 자동 프로비저닝', 
'## 🤖 서비스 자동 프로비저닝

### 오케스트레이션이란?

여러 시스템을 연동하여 서비스 요청을 **자동으로 처리**하는 것입니다.

### 자동 프로비저닝 예시: 신입사원 온보딩

```
┌──────────────────────────────────────────────────────┐
│                  신입사원 온보딩 요청                  │
└──────────────────────────────────────────────────────┘
                         │
                         ▼
┌──────────────────────────────────────────────────────┐
│                 Freshservice 워크플로우               │
│   ┌─────────────────────────────────────────────┐    │
│   │ 1. AD 계정 생성        → Active Directory   │    │
│   │ 2. 이메일 계정 생성    → Microsoft 365      │    │
│   │ 3. Slack 초대          → Slack API          │    │
│   │ 4. 장비 배정           → 자산 DB 업데이트    │    │
│   │ 5. 접근권한 부여       → 각 시스템 연동      │    │
│   │ 6. 환영 이메일 발송    → SMTP               │    │
│   └─────────────────────────────────────────────┘    │
└──────────────────────────────────────────────────────┘
                         │
                         ▼
┌──────────────────────────────────────────────────────┐
│     ✅ 모든 시스템 자동 설정 완료 (10분 소요)          │
└──────────────────────────────────────────────────────┘
```

### Freshservice Orchestration 설정

```yaml
오케스트레이션: 신입사원 온보딩
─────────────────────────────────
트리거: 
  서비스 항목 = "신입사원 온보딩"
  상태 = "승인됨"

노드:
  - id: create_ad
    타입: HTTP Request
    URL: https://graph.microsoft.com/v1.0/users
    메서드: POST
    본문:
      displayName: "{{ticket.custom_fields.name}}"
      userPrincipalName: "{{ticket.custom_fields.email}}"
    
  - id: create_email
    타입: HTTP Request
    의존: create_ad
    # ...

  - id: assign_asset
    타입: Freshservice Asset
    의존: create_ad
    액션: 할당
    자산 유형: 노트북
    할당 대상: "{{ticket.custom_fields.email}}"

출력:
  - 티켓 메모 추가: "자동 프로비저닝 완료"
  - 상태 변경: "완료"
```

### 연동 가능한 시스템

| 카테고리 | 시스템 예시 |
|---------|-----------|
| **ID 관리** | Active Directory, Okta, Azure AD |
| **협업** | Slack, Teams, Google Workspace |
| **개발** | Jira, GitHub, GitLab |
| **인프라** | AWS, Azure, VMware |
| **HR** | Workday, SAP SuccessFactors |

> 💡 **ROI 팁**: 반복적인 수작업(신입 온보딩, 계정 생성 등)부터 자동화하면 빠르게 효과를 볼 수 있습니다.', 2);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'features', 'advanced', 'API를 통한 카탈로그 관리', 
'## 🔌 Service Catalog API 활용

### 서비스 카탈로그 API 개요

프로그래밍 방식으로 카탈로그를 관리하고 서비스 요청을 생성할 수 있습니다.

### 주요 API 엔드포인트

```yaml
서비스 카탈로그 API:
  기본 URL: https://{domain}.freshservice.com/api/v2

  엔드포인트:
    # 서비스 카테고리
    GET    /service_catalog/categories
    GET    /service_catalog/categories/{id}
    
    # 서비스 항목
    GET    /service_catalog/items
    GET    /service_catalog/items/{id}
    
    # 서비스 요청
    POST   /service_catalog/items/{id}/place_request
    GET    /tickets/{id}
```

### 서비스 항목 조회

```bash
# 모든 서비스 항목 조회
curl -X GET "https://company.freshservice.com/api/v2/service_catalog/items" \
  -H "Authorization: Basic $(echo -n ''API_KEY:X'' | base64)" \
  -H "Content-Type: application/json"
```

**응답 예시**:
```json
{
  "service_items": [
    {
      "id": 12,
      "name": "노트북 신규 지급",
      "description": "신규 입사자 또는 교체용 노트북 신청",
      "category_id": 3,
      "delivery_time": 120,
      "visibility": "all_users"
    }
  ]
}
```

### 서비스 요청 생성

```bash
# 서비스 요청 생성
curl -X POST "https://company.freshservice.com/api/v2/service_catalog/items/12/place_request" \
  -H "Authorization: Basic $(echo -n ''API_KEY:X'' | base64)" \
  -H "Content-Type: application/json" \
  -d ''{
    "email": "user@company.com",
    "quantity": 1,
    "custom_fields": {
      "laptop_type": "고성능",
      "reason": "신규 입사"
    }
  }''
```

### 대량 서비스 관리 스크립트

```python
import requests
from typing import List, Dict

class FreshserviceCatalog:
    def __init__(self, domain: str, api_key: str):
        self.base_url = f"https://{domain}.freshservice.com/api/v2"
        self.auth = (api_key, "X")
    
    def get_all_items(self) -> List[Dict]:
        """모든 서비스 항목 조회"""
        response = requests.get(
            f"{self.base_url}/service_catalog/items",
            auth=self.auth
        )
        return response.json()["service_items"]
    
    def create_bulk_requests(self, item_id: int, users: List[str]):
        """여러 사용자에 대해 동일 요청 생성"""
        results = []
        for user in users:
            response = requests.post(
                f"{self.base_url}/service_catalog/items/{item_id}/place_request",
                auth=self.auth,
                json={"email": user, "quantity": 1}
            )
            results.append({
                "user": user,
                "ticket_id": response.json().get("service_request", {}).get("id")
            })
        return results

# 사용 예시
catalog = FreshserviceCatalog("company", "YOUR_API_KEY")
new_hires = ["kim@company.com", "lee@company.com", "park@company.com"]
catalog.create_bulk_requests(item_id=12, users=new_hires)
```

> 💡 **활용 예**: 인사 시스템과 연동하여 신입사원 입사 시 자동으로 장비/계정 요청 생성', 3);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'practice', 'advanced', '카탈로그 분석과 최적화', 
'## 📊 서비스 카탈로그 분석 및 최적화

### 주요 분석 지표

| 지표 | 의미 | 목표 |
|-----|------|-----|
| **서비스 이용률** | 항목별 요청 건수 | 불용 서비스 식별 |
| **평균 처리 시간** | 요청~완료 소요시간 | 병목 파악 |
| **포기율** | 양식 작성 중 이탈 | UX 개선 필요 |
| **검색 실패율** | 검색 후 요청 없음 | 서비스 갭 파악 |
| **만족도 점수** | 완료 후 평가 | 품질 측정 |

### 카탈로그 건강성 대시보드

```
┌─────────────────────────────────────────────────────────┐
│            서비스 카탈로그 건강성 리포트                  │
│                    2024년 1월                           │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📈 이용 현황                                            │
│  ├── 총 서비스 항목: 45개                                │
│  ├── 활성 서비스: 38개 (84%)                             │
│  └── 휴면 서비스: 7개 (6개월간 요청 0건)                  │
│                                                         │
│  ⏱️ 성능 지표                                            │
│  ├── 평균 응답 시간: 2.3시간 (목표: 4시간) ✅             │
│  ├── 평균 처리 시간: 1.8일 (목표: 2일) ✅                │
│  └── SLA 달성률: 94% (목표: 90%) ✅                      │
│                                                         │
│  📊 Top 5 서비스 (요청 건수)                              │
│  1. 비밀번호 초기화 ████████████████ 320건              │
│  2. 소프트웨어 설치 ██████████████ 280건                │
│  3. VPN 접근 요청   █████████████ 265건                 │
│  4. 노트북 신규     ████████ 180건                      │
│  5. 회의실 예약     ██████ 120건                        │
│                                                         │
│  ⚠️ 개선 필요                                            │
│  ├── "장비 반납" 양식 포기율 25% (평균 5%)               │
│  └── "서버 접근권한" 평균 처리 5.2일 (목표 2일)          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 최적화 전략

#### 1. 휴면 서비스 정리
```
조건: 6개월간 요청 0건
액션:
  1. 숨김 처리 (삭제 X)
  2. 오너에게 검토 요청
  3. 90일 후 응답 없으면 아카이브
```

#### 2. 양식 최적화
```
포기율 > 20% 서비스:
  1. 필드 수 분석 (10개 이상?)
  2. 필수 필드 최소화
  3. 도움말 텍스트 추가
  4. A/B 테스트 진행
```

#### 3. 자동화 우선순위
```
자동화 ROI = (월간 요청 수 × 건당 처리 시간) / 자동화 개발 비용

Top 후보:
  1. 비밀번호 초기화 → 셀프 서비스
  2. 소프트웨어 설치 → 자동 배포
  3. 신규 계정 생성 → AD 연동
```

### 정기 리뷰 체크리스트

```markdown
## 월간 카탈로그 리뷰

### 이용 현황
- [ ] 신규 요청 트렌드 분석
- [ ] 휴면 서비스 식별
- [ ] 검색 키워드 분석

### 성능
- [ ] SLA 달성률 확인
- [ ] 병목 서비스 식별
- [ ] 처리 지연 원인 분석

### 피드백
- [ ] 만족도 점수 검토
- [ ] 사용자 의견 수집
- [ ] 개선 요청 정리

### 액션
- [ ] 개선 항목 우선순위화
- [ ] 담당자 배정
- [ ] 다음 리뷰까지 목표 설정
```

> 💡 **팁**: 데이터 기반 의사결정이 중요합니다. "느낌"이 아닌 "숫자"로 판단하세요.', 4);

INSERT INTO module_contents (module_id, section_type, level, title_ko, content_md, display_order) VALUES
('4b570ffd-bacd-4815-bb77-4d9bfcdeb59e', 'faq', 'advanced', '고급 FAQ', 
'## ❓ 고급 실무 FAQ

### Q1: 서비스 카탈로그와 CMDB를 연동하려면?

**연동 시나리오**:
```
서비스 요청 → 자산 자동 생성/할당 → CMDB 업데이트

예: "노트북 지급 요청" 승인 시
  1. 재고에서 자산 선택
  2. 사용자에게 자동 할당
  3. 자산 상태 "사용중"으로 변경
  4. 관계 설정 (사용자 ↔ 자산)
```

---

### Q2: 서비스 카탈로그 KPI는 어떻게 설정하나요?

**핵심 KPI**:
| KPI | 측정 방법 | 목표 예시 |
|-----|---------|---------|
| 카탈로그 이용률 | 전체 요청 중 카탈로그 비율 | 80% 이상 |
| 셀프 서비스율 | 에이전트 개입 없이 완료 | 30% 이상 |
| 사용자 만족도 | 완료 후 평점 | 4.0/5.0 |
| 평균 처리 시간 | 요청~완료 | 카테고리별 상이 |

---

### Q3: 카탈로그 변경 시 사용자 혼란을 줄이려면?

**변경 관리 전략**:
1. **사전 공지**: 변경 2주 전 안내
2. **병행 운영**: 구/신 서비스 일정 기간 병행
3. **가이드 제공**: 변경 사항 비교표 제공
4. **피드백 채널**: 문의 창구 운영
5. **롤백 계획**: 심각한 문제 시 복원 준비

---

### Q4: 외부 벤더 서비스도 카탈로그에 포함해야 하나요?

**포함 기준**:
```yaml
포함 권장:
  - IT에서 중개/관리하는 서비스
  - SLA 관리가 필요한 서비스
  - 비용 추적이 필요한 서비스

별도 관리:
  - 부서에서 직접 계약한 서비스
  - IT 관여 없는 서비스
```

---

### Q5: 카탈로그 아이템이 1000개가 넘어요. 어떻게 관리하죠?

**대규모 카탈로그 관리**:

1. **거버넌스 수립**
   - 서비스 오너 제도
   - 신규/폐기 승인 프로세스

2. **자동화된 관리**
   - API 기반 대량 업데이트
   - 정기 스캔으로 휴면 서비스 탐지

3. **역할 기반 뷰**
   - 사용자별 필요한 서비스만 표시
   - 복잡성 숨기기

4. **검색 최적화**
   - 키워드, 태그 관리
   - AI 기반 추천

> 💡 **핵심**: 카탈로그가 클수록 체계적인 거버넌스가 필수입니다.', 5);
